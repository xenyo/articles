# How to Set Up a New Drupal Project

In this guide, you will learn how to set up a new Drupal project and serve the project in a local environment.

## Before You Begin

Set up a Drupal development environment using https://github.com/xenyo/docker-drupal.

> If you prefer to use a different environment, make sure it includes Apache, MySQL, PHP, Composer and Git.

## Setting Up a New Drupal Project

Choose an appropriate name for your project. In the examples below, replace **PROJECT_NAME** with your chosen project name.

### 1. Download Drupal and Drush using Composer

#### Drupal

`cd` to the directory above where you would like to create the project:

```
cd /var/www
```

Download the latest stable version of Drupal:

```
composer create-project drupal/recommended-project PROJECT_NAME
```

> To download a different version, for example Drupal 9:
>
> ```
> composer create-project drupal/recommended-project:^9 PROJECT_NAME
> ```

After Composer finishes, `cd` into the project directory:

```
cd PROJECT_NAME
```

#### Drush

Run this command to install Drush for your project:

```
composer require drush/drush
```

> If you installed Drush 12 or higher, you will need to use direnv to make the `drush` command available in the terminal.
>
> Create a new file named `.envrc` in the project root and insert the following text into the file:
>
> ```
> PATH_add vendor/bin
> ```
>
> Then, run this command in the terminal to allow the `.envrc` file to take effect:
>
> ```
> direnv allow
> ```
>
> See [this issue](https://github.com/drush-ops/drush-launcher/issues/105) for more details.

### 2. Install Drupal to a new database

Create a new database for the project:

```
mysqladmin -hmariadb create PROJECT_NAME
```

Run the Drupal installer using Drush:

```
drush si --db-url=mysql://root@mariadb:3306/PROJECT_NAME
```

After the installation completes, note down the admin password generated by the installer.


### 3. Set up Apache to serve the project locally

Create `/etc/apache2/sites-available/PROJECT_NAME.conf` and insert the following text into the file:

```
<VirtualHost *:80>
  ServerName MY_PROJECT
  DocumentRoot /var/www/MY_PROJECT/web
</VirtualHost>
```

Then, enable the virtual host and restart Apache:

```
a2ensite PROJECT_NAME.conf
```

```
service apache2 restart
```

Finally, open the hosts file in your host OS (`C:\Windows\System32\drivers\etc\hosts` on Windows, `/etc/hosts` on Mac) and add the following line:

```
127.0.0.1 PROJECT_NAME
```

Now, you should be able to load the site in your browser by going to http://PROJECT_NAME:8081 (adjust port number as necessary).

## Next steps

- [How to Set Up a Git Repository for a Drupal Project](set_up_git.md)
- [How to Enable Development Settings on a Drupal Project](enable_development_settings.md)
